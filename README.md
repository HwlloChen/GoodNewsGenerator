# 喜报/悲报生成器 Langbot插件

## 简介

喜报/悲报生成器是一个Langbot插件，可以根据关键词生成并发送喜报或悲报风格的图片。当用户在私聊或群聊中发送以"喜报"或"悲报"开头的消息时，插件会自动生成对应风格的图片并发送。

## 功能特点

- 支持私聊和群聊场景
- 自动识别"喜报"和"悲报"关键词
- 根据用户输入内容生成对应风格的图片
- 自适应文本排版，支持长文本和特殊字符
- 完善的异常处理机制

## 安装方法

### 方法一：从GitHub仓库安装

1. 在Langbot WebUI的插件管理页面，点击"安装"按钮
2. 输入插件的GitHub仓库地址
3. 点击"安装"按钮完成安装

### 方法二：手动安装

1. 下载本插件的完整代码包
2. 将代码包解压到Langbot的`plugins`目录下
3. 确保目录结构如下：
   ```
   plugins/
   └── GoodNewsGenerator/
       ├── main.py
       ├── manifest.yaml
       ├── generator.py
       └── assets/
           ├── good_news.jpg
           ├── bad_news.jpg
           └── simhei.ttf
   ```
4. 重启Langbot或使用`!plugin on GoodNewsGenerator`命令启用插件

## 使用方法

插件安装后，可以通过以下方式使用：

### 生成喜报

在私聊或群聊中发送：
```
喜报 你想要显示的内容
```

例如：
```
喜报 恭喜发财
```

### 生成悲报

在私聊或群聊中发送：
```
悲报 你想要显示的内容
```

例如：
```
悲报 今天是悲伤的一天
```

## 配置选项

插件支持以下配置选项：

- `font_path`：自定义字体路径，用于文字渲染（可选）

可以在Langbot WebUI的插件管理页面中修改这些配置。

## 常见问题

1. **问题**：插件无法正常生成图片
   **解决方案**：检查assets目录中是否包含必要的背景图片和字体文件

2. **问题**：生成的图片文字显示不正确
   **解决方案**：尝试配置自定义字体路径，确保字体支持中文

3. **问题**：插件无法响应关键词
   **解决方案**：确保消息格式正确，关键词后需要有空格

## 许可证

本插件采用MIT许可证开源。
